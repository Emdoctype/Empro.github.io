<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" id="theme-link" />
    <title>Emeric CV page web</title>
    <link rel="icon" href="./assets/logo/logo_black.jpg" />
  </head>
  <body class="index">
    <header class="header_index">
      <div class="header_logo">
        <img
          id="header_logo"
          src="./assets/logo/logo_white.png"
          alt="Logo du site"
        />
      </div>
      <div class="overlay_menu_mobile" onclick="closeMenuMobile()"></div>
      <nav class="header_nav">
        <div class="header_nav_close" onclick="closeMenuMobile()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
            />
          </svg>
        </div>
        <ul class="header_nav_menu">
          <li class="header_nav_menu_link">
            <a href="./index.html"><span>Accueil</span></a>
          </li>
          <li class="header_nav_menu_link">
            <a href="./diplome.html"><span>À propos de moi</span></a>
          </li>
          <li class="header_nav_menu_link">
            <a href="./xp.html"><span>Expériences</span></a>
          </li>
          <li class="header_nav_menu_link">
            <a href="./index2.html"><span>Compétences</span></a>
          </li>
          <li class="header_nav_menu_link">
            <a href="./formulaire.html"><span>Formulaire</span></a>
          </li>
          <li class="header_nav_menu_link_dropdown">
            <a href="#">Thème page</a>
            <div class="dropdown-content">
              <a href="#" id="classique">Classique</a>
              <a href="#" id="zelda">Zelda</a>
            </div>
          </li>
        </ul>
      </nav>
      <div class="header_burger" onclick="openMenuMobile()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"
          />
        </svg>
      </div>
    </header>
    <div class="Formulaire">
      <h1 id="title-form" class="title_form">Contactez-moi</h1>
      <p id="description" class="title_p">Formulaire de contact</p>

      <form
        id="survey-form"
        action="https://formspree.io/f/mqazawab"
        method="POST"
      >
        <label for="name" id="name-label">Nom :</label>
        <input
          id="name"
          name="name"
          type="text"
          required
          placeholder="Entrez votre nom"
        />

        <label for="email" id="email-label">E-mail :</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          placeholder="Entrez votre adresse e-mail"
        />

        <div class="radio-group">
          <label id="radio-label">Choisissez une catégorie :</label>
          <input type="radio" id="category1" name="category" value="cat1" />
          <label for="category1">Employeur</label>
          <input type="radio" id="category2" name="category" value="cat2" />
          <label for="category2">Visiteur</label>
        </div>

        <label for="textarea1">Commenter ici :</label>
        <textarea
          id="textarea1"
          name="textarea1"
          placeholder="Entrez votre commentaire"
        ></textarea>

        <input id="submit" type="submit" name="submit" value="Envoyer" />
      </form>
    </div>

    <script>
      function openMenuMobile() {
        document.querySelector(".header_nav").classList.add("open");
        document.querySelector(".overlay_menu_mobile").classList.add("open");
      }
      function closeMenuMobile() {
        document.querySelector(".header_nav").classList.remove("open");
        document.querySelector(".overlay_menu_mobile").classList.remove("open");
      }
      const classique = document.getElementById("classique");
      const zelda = document.getElementById("zelda");
      const linkElement = document.getElementById("theme-link");

      // Appliquer le thème stocké lors du chargement de la page
      window.addEventListener("DOMContentLoaded", (event) => {
        const classique = document.getElementById("classique");
        const zelda = document.getElementById("zelda");
        const linkElement = document.getElementById("theme-link");

        // Appliquer le thème stocké lors du chargement de la page
        const theme = localStorage.getItem("theme");
        if (theme) {
          linkElement.setAttribute("href", theme);
        }

        classique.addEventListener("click", (event) => {
          event.preventDefault();
          linkElement.setAttribute("href", "styles.css");
          localStorage.setItem("theme", "styles.css"); // Stocker le thème choisi
        });

        zelda.addEventListener("click", (event) => {
          event.preventDefault();
          linkElement.setAttribute("href", "zelda.css");
          localStorage.setItem("theme", "zelda.css"); // Stocker le thème choisi
        });
      });
      document
        .getElementById("survey-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          var name = document.getElementById("name").value;
          var email = document.getElementById("email").value;
          var textarea1 = document.getElementById("textarea1").value;

          name = encodeURIComponent(name);
          email = encodeURIComponent(email);
          textarea1 = encodeURIComponent(textarea1);

          document.getElementById("survey-form").addEventListener("submit", function (event) {
          event.preventDefault();

           var email = document.getElementById("email").value;

          // Utilisez une expression régulière pour valider l'adresse e-mail
           var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
          if (!emailRegex.test(email)) {
           alert("Veuillez entrer une adresse e-mail valide.");
          return;
           }

          // Encodez l'adresse e-mail après la validation
          email = encodeURIComponent(email);
        });
    </script>
  </body>
</html>
